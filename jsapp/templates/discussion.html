{% extends "jsparent.html" %}
{% load static %}

{% block title %}Ask Questions - JobSeeker Dashboard{% endblock %}

{% block body %}

<style>
    /* Enhanced Ask Questions Page Styles - Using Parent Variables */
    .questions-hero {
        background: var(--gradient-primary);
        position: relative;
        overflow: hidden;
        margin: -32px -32px 32px -32px;
        border-radius: 0 0 var(--border-radius-xl) var(--border-radius-xl);
        box-shadow: var(--shadow-xl);
    }

    .questions-hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: 
            radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 0%, transparent 50%),
            radial-gradient(circle at 80% 70%, rgba(255,255,255,0.08) 0%, transparent 50%);
        pointer-events: none;
    }

    .questions-hero::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    }

    .hero-content {
        position: relative;
        z-index: 2;
        padding: 64px 32px;
        text-align: center;
        max-width: 900px;
        margin: 0 auto;
    }

    .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        color: white;
        margin-bottom: 24px;
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        line-height: 1.1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 16px;
        flex-wrap: wrap;
    }

    .hero-title i {
        font-size: 3rem;
        opacity: 0.9;
        animation: float 3s ease-in-out infinite;
    }

    .hero-subtitle {
        font-size: 1.25rem;
        color: rgba(255,255,255,0.9);
        font-weight: 400;
        margin-bottom: 40px;
        line-height: 1.6;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .hero-features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 24px;
        max-width: 700px;
        margin: 0 auto;
    }

    .hero-feature {
        background: rgba(255,255,255,0.1);
        padding: 16px;
        border-radius: var(--border-radius-lg);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255,255,255,0.2);
        transition: var(--transition-medium);
        text-align: center;
    }

    .hero-feature:hover {
        background: rgba(255,255,255,0.15);
        transform: translateY(-2px);
    }

    .hero-feature i {
        font-size: 2rem;
        color: white;
        margin-bottom: 8px;
        display: block;
    }

    .hero-feature-text {
        color: rgba(255,255,255,0.9);
        font-size: 0.875rem;
        font-weight: 500;
    }

    /* Form Container */
    .question-form-container {
        background: var(--bg-primary);
        border-radius: var(--border-radius-xl);
        box-shadow: var(--shadow-xl);
        border: 1px solid var(--border-light);
        overflow: hidden;
        margin-bottom: 40px;
        position: relative;
    }

    .question-form-container::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-primary);
    }

    .form-header {
        background: var(--bg-tertiary);
        padding: 32px;
        text-align: center;
        border-bottom: 1px solid var(--border-light);
    }

    .form-header-title {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
    }

    .form-header-subtitle {
        font-size: 1rem;
        color: var(--text-medium);
        line-height: 1.6;
        max-width: 500px;
        margin: 0 auto;
    }

    .form-content {
        padding: 40px;
    }

    /* Enhanced Form Styling */
    .enhanced-form {
        max-width: 600px;
        margin: 0 auto;
    }

    .form-group-enhanced {
        margin-bottom: 32px;
        position: relative;
    }

    .form-label-enhanced {
        font-weight: 600;
        color: var(--text-dark);
        font-size: 1rem;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .form-label-enhanced i {
        color: var(--primary-blue);
        font-size: 1.125rem;
    }

    .form-input-enhanced {
        width: 100%;
        padding: 20px 24px;
        border: 2px solid var(--border-light);
        border-radius: var(--border-radius-lg);
        font-size: 1rem;
        font-family: inherit;
        transition: var(--transition-medium);
        background: var(--bg-primary);
        color: var(--text-dark);
        resize: vertical;
        min-height: 140px;
    }

    .form-input-enhanced:focus {
        outline: none;
        border-color: var(--primary-blue);
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        transform: translateY(-1px);
    }

    .form-input-enhanced::placeholder {
        color: var(--text-light);
        font-style: italic;
    }

    /* Character Counter */
    .character-counter {
        position: absolute;
        bottom: -24px;
        right: 0;
        font-size: 0.8125rem;
        color: var(--text-light);
        transition: var(--transition-fast);
    }

    .character-counter.warning {
        color: #f59e0b;
    }

    .character-counter.danger {
        color: #ef4444;
    }

    /* Question Categories */
    .question-categories {
        margin-bottom: 32px;
    }

    .categories-label {
        font-weight: 600;
        color: var(--text-dark);
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 12px;
    }

    .category-option {
        background: var(--bg-tertiary);
        border: 2px solid var(--border-light);
        padding: 16px;
        border-radius: var(--border-radius-lg);
        text-align: center;
        cursor: pointer;
        transition: var(--transition-medium);
        position: relative;
    }

    .category-option:hover {
        background: rgba(37, 99, 235, 0.05);
        border-color: rgba(37, 99, 235, 0.3);
        transform: translateY(-2px);
    }

    .category-option.selected {
        background: var(--light-blue);
        border-color: var(--primary-blue);
        color: var(--primary-blue);
        font-weight: 600;
    }

    .category-option input[type="radio"] {
        position: absolute;
        opacity: 0;
        pointer-events: none;
    }

    .category-icon {
        font-size: 1.5rem;
        margin-bottom: 8px;
        display: block;
        color: var(--text-medium);
        transition: var(--transition-fast);
    }

    .category-option.selected .category-icon {
        color: var(--primary-blue);
    }

    .category-text {
        font-size: 0.875rem;
        font-weight: 500;
    }

    /* Priority Level */
    .priority-section {
        margin-bottom: 32px;
    }

    .priority-options {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
    }

    .priority-option {
        background: var(--bg-tertiary);
        border: 2px solid var(--border-light);
        padding: 20px;
        border-radius: var(--border-radius-lg);
        text-align: center;
        cursor: pointer;
        transition: var(--transition-medium);
        position: relative;
    }

    .priority-option:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    .priority-option.selected {
        border-color: var(--primary-blue);
        background: var(--light-blue);
    }

    .priority-option.low.selected {
        border-color: #10b981;
        background: rgba(5, 150, 105, 0.1);
    }

    .priority-option.high.selected {
        border-color: #ef4444;
        background: rgba(220, 38, 38, 0.1);
    }

    .priority-option input[type="radio"] {
        position: absolute;
        opacity: 0;
        pointer-events: none;
    }

    .priority-indicator {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        margin: 0 auto 8px;
    }

    .priority-option.low .priority-indicator {
        background: #10b981;
    }

    .priority-option.medium .priority-indicator {
        background: #f59e0b;
    }

    .priority-option.high .priority-indicator {
        background: #ef4444;
    }

    /* Enhanced Submit Button */
    .submit-section {
        text-align: center;
        padding-top: 24px;
        border-top: 1px solid var(--border-light);
    }

    .submit-btn {
        background: var(--gradient-primary);
        color: white;
        border: none;
        padding: 20px 48px;
        border-radius: 50px;
        font-weight: 700;
        font-size: 1.125rem;
        cursor: pointer;
        transition: var(--transition-medium);
        display: inline-flex;
        align-items: center;
        gap: 12px;
        position: relative;
        overflow: hidden;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        box-shadow: var(--shadow-md);
    }

    .submit-btn:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 10px 25px -5px rgba(37, 99, 235, 0.15), 0 4px 6px -2px rgba(37, 99, 235, 0.05);
    }

    .submit-btn:active {
        transform: translateY(-1px) scale(1.02);
    }

    .submit-btn.loading {
        pointer-events: none;
        opacity: 0.8;
    }

    .submit-btn.loading i {
        animation: spin 1s linear infinite;
    }

    /* Success Message */
    .success-message {
        background: linear-gradient(135deg, #059669 0%, #047857 100%);
        color: white;
        padding: 24px;
        border-radius: var(--border-radius-lg);
        text-align: center;
        margin-bottom: 32px;
        box-shadow: var(--shadow-md);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        font-weight: 600;
        animation: slideDown 0.5s ease-out;
    }

    /* FAQ Section */
    .faq-section {
        background: var(--bg-primary);
        border-radius: var(--border-radius-xl);
        padding: 32px;
        box-shadow: var(--shadow-lg);
        border: 1px solid var(--border-light);
        margin-bottom: 40px;
    }

    .faq-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 24px;
        display: flex;
        align-items: center;
        gap: 12px;
        text-align: center;
        justify-content: center;
    }

    .faq-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 24px;
    }

    .faq-item {
        background: var(--bg-tertiary);
        padding: 24px;
        border-radius: var(--border-radius-lg);
        border: 1px solid var(--border-light);
        transition: var(--transition-medium);
        cursor: pointer;
    }

    .faq-item:hover {
        background: var(--bg-primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    .faq-question {
        font-weight: 600;
        color: var(--text-dark);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .faq-answer {
        color: var(--text-medium);
        font-size: 0.925rem;
        line-height: 1.6;
    }

    /* Quick Tips Section */
    .tips-section {
        background: var(--gradient-bg);
        border-radius: var(--border-radius-xl);
        padding: 32px;
        margin-bottom: 40px;
        border: 1px solid var(--border-light);
    }

    .tips-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 24px;
        display: flex;
        align-items: center;
        gap: 12px;
        text-align: center;
        justify-content: center;
    }

    .tips-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 16px;
    }

    .tip-item {
        background: var(--bg-primary);
        padding: 20px;
        border-radius: var(--border-radius-lg);
        border: 1px solid var(--border-light);
        transition: var(--transition-medium);
    }

    .tip-item:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    .tip-icon {
        width: 40px;
        height: 40px;
        background: var(--gradient-primary);
        color: white;
        border-radius: var(--border-radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 12px;
        font-size: 1rem;
    }

    .tip-text {
        color: var(--text-medium);
        font-size: 0.875rem;
        line-height: 1.6;
        font-weight: 500;
    }

    /* Contact Section */
    .contact-section {
        margin-bottom: 40px;
    }

    .contact-card {
        background: var(--bg-primary);
        border-radius: var(--border-radius-xl);
        padding: 32px;
        text-align: center;
        box-shadow: var(--shadow-lg);
        border: 1px solid var(--border-light);
        position: relative;
        overflow: hidden;
    }

    .contact-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: var(--gradient-primary);
    }

    .contact-header {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        margin-bottom: 16px;
    }

    .contact-header i {
        font-size: 2rem;
        color: var(--primary-blue);
    }

    .contact-header h3 {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-dark);
        margin: 0;
    }

    .contact-text {
        color: var(--text-medium);
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 24px;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    .contact-actions {
        display: flex;
        gap: 16px;
        justify-content: center;
        flex-wrap: wrap;
    }

    .contact-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 16px 24px;
        border-radius: var(--border-radius-lg);
        font-weight: 600;
        text-decoration: none;
        transition: var(--transition-medium);
        font-size: 0.9375rem;
        border: 2px solid transparent;
    }

    .contact-btn.primary {
        background: var(--gradient-primary);
        color: white;
        box-shadow: var(--shadow-md);
    }

    .contact-btn.primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px -5px rgba(37, 99, 235, 0.15), 0 4px 6px -2px rgba(37, 99, 235, 0.05);
        color: white;
        text-decoration: none;
    }

    .contact-btn.secondary {
        background: var(--bg-primary);
        color: var(--primary-blue);
        border-color: var(--primary-blue);
    }

    .contact-btn.secondary:hover {
        background: var(--light-blue);
        transform: translateY(-2px);
        color: var(--primary-blue);
        text-decoration: none;
    }

    .form-error {
        animation: slideDown 0.3s ease-out;
        background: #fee2e2;
        border: 1px solid #fecaca;
        color: #dc2626;
        padding: 16px;
        border-radius: var(--border-radius-md);
        margin-bottom: 16px;
        font-size: 0.875rem;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
            flex-direction: column;
            gap: 8px;
        }
        
        .hero-features {
            grid-template-columns: 1fr;
            gap: 16px;
        }
        
        .form-content {
            padding: 24px;
        }
        
        .categories-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .priority-options {
            grid-template-columns: 1fr;
        }
        
        .submit-btn {
            padding: 16px 32px;
            font-size: 1rem;
        }
        
        .faq-grid,
        .tips-grid {
            grid-template-columns: 1fr;
        }
        
        .contact-actions {
            flex-direction: column;
            align-items: center;
        }
        
        .contact-btn {
            width: 100%;
            max-width: 280px;
            justify-content: center;
        }
        
        .questions-hero {
            margin: -16px -16px 16px -16px;
        }
        
        .hero-content {
            padding: 48px 16px;
        }
    }

    @media (max-width: 480px) {
        .hero-title {
            font-size: 2rem;
        }
        
        .categories-grid {
            grid-template-columns: 1fr;
        }
        
        .form-header {
            padding: 24px;
        }
        
        .form-content {
            padding: 20px;
        }
    }

    /* Animations */
    @keyframes float {
        0%, 100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes spin {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    .fade-in {
        animation: fadeIn 0.6s ease-out forwards;
    }

    .slide-up {
        animation: slideUp 0.6s ease-out forwards;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Enhanced hover effects */
    .category-option:hover,
    .priority-option:hover,
    .faq-item:hover,
    .tip-item:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* Accessibility improvements */
    .category-option:focus-within,
    .priority-option:focus-within {
        outline: 2px solid var(--primary-blue);
        outline-offset: 2px;
    }
</style>

<!-- Hero Section -->
<div class="questions-hero">
    <div class="hero-content">
        <h1 class="hero-title">
            <i class="fas fa-question-circle"></i>
            Ask Your Questions
        </h1>
        <p class="hero-subtitle">
            Get expert answers to your career questions. Our team of professionals is here to help you succeed in your job search journey.
        </p>
        
        <div class="hero-features">
            <div class="hero-feature">
                <i class="fas fa-rocket"></i>
                <div class="hero-feature-text">Quick Response</div>
            </div>
            <div class="hero-feature">
                <i class="fas fa-user-tie"></i>
                <div class="hero-feature-text">Expert Advice</div>
            </div>
            <div class="hero-feature">
                <i class="fas fa-shield-alt"></i>
                <div class="hero-feature-text">Confidential</div>
            </div>
        </div>
    </div>
</div>

<!-- Success Message -->
{% if msg %}
<div class="success-message">
    <i class="fas fa-check-circle"></i>
    {{ msg }}
</div>
{% endif %}

<!-- Enhanced Question Form -->
<div class="question-form-container fade-in">
    <div class="form-header">
        <h2 class="form-header-title">
            <i class="fas fa-edit"></i>
            Submit Your Question
        </h2>
        <p class="form-header-subtitle">
            Please provide as much detail as possible to help us give you the most accurate and helpful response.
        </p>
    </div>
    
    <div class="form-content">
        <form class="enhanced-form" method="post" id="questionForm">
            {% csrf_token %}
            
            <!-- Question Category -->
            <div class="question-categories">
                <label class="categories-label">
                    <i class="fas fa-tags"></i>
                    Question Category
                </label>
                <div class="categories-grid">
                    <label class="category-option" for="category-job-search">
                        <input type="radio" name="category" value="job-search" id="category-job-search">
                        <i class="fas fa-search category-icon"></i>
                        <div class="category-text">Job Search</div>
                    </label>
                    <label class="category-option" for="category-career-advice">
                        <input type="radio" name="category" value="career-advice" id="category-career-advice">
                        <i class="fas fa-chart-line category-icon"></i>
                        <div class="category-text">Career Advice</div>
                    </label>
                    <label class="category-option" for="category-interview">
                        <input type="radio" name="category" value="interview" id="category-interview">
                        <i class="fas fa-comments category-icon"></i>
                        <div class="category-text">Interview</div>
                    </label>
                    <label class="category-option" for="category-resume">
                        <input type="radio" name="category" value="resume" id="category-resume">
                        <i class="fas fa-file-alt category-icon"></i>
                        <div class="category-text">Resume</div>
                    </label>
                    <label class="category-option" for="category-salary">
                        <input type="radio" name="category" value="salary" id="category-salary">
                        <i class="fas fa-dollar-sign category-icon"></i>
                        <div class="category-text">Salary</div>
                    </label>
                    <label class="category-option" for="category-general">
                        <input type="radio" name="category" value="general" id="category-general" checked>
                        <i class="fas fa-question category-icon"></i>
                        <div class="category-text">General</div>
                    </label>
                </div>
            </div>

            <!-- Priority Level -->
            <div class="priority-section">
                <label class="categories-label">
                    <i class="fas fa-flag"></i>
                    Priority Level
                </label>
                <div class="priority-options">
                    <label class="priority-option low" for="priority-low">
                        <input type="radio" name="priority" value="low" id="priority-low">
                        <div class="priority-indicator"></div>
                        <div class="category-text">Low Priority</div>
                    </label>
                    <label class="priority-option medium" for="priority-medium">
                        <input type="radio" name="priority" value="medium" id="priority-medium" checked>
                        <div class="priority-indicator"></div>
                        <div class="category-text">Medium Priority</div>
                    </label>
                    <label class="priority-option high" for="priority-high">
                        <input type="radio" name="priority" value="high" id="priority-high">
                        <div class="priority-indicator"></div>
                        <div class="category-text">High Priority</div>
                    </label>
                </div>
            </div>

            <!-- Question Input -->
            <div class="form-group-enhanced">
                <label for="newstitle" class="form-label-enhanced">
                    <i class="fas fa-pencil-alt"></i>
                    Your Question
                </label>
                <textarea 
                    name="newstitle" 
                    id="newstitle" 
                    class="form-input-enhanced"
                    placeholder="Please describe your question in detail. The more specific you are, the better we can help you..."
                    required
                    maxlength="1000"
                    rows="6"
                ></textarea>
                <div class="character-counter" id="charCounter">0 / 1000 characters</div>
            </div>

            <!-- Submit Section -->
            <div class="submit-section">
                <button type="submit" class="submit-btn" id="submitBtn">
                    <i class="fas fa-paper-plane"></i>
                    Submit Question
                </button>
            </div>
        </form>
    </div>
</div>

<!-- FAQ Section -->
<div class="faq-section slide-up">
    <h3 class="faq-title">
        <i class="fas fa-question-circle"></i>
        Frequently Asked Questions
    </h3>
    
    <div class="faq-grid">
        <div class="faq-item">
            <div class="faq-question">
                <i class="fas fa-clock"></i>
                How quickly will I get a response?
            </div>
            <div class="faq-answer">
                We typically respond to questions within 24-48 hours. High priority questions are answered faster.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <i class="fas fa-user-secret"></i>
                Are my questions confidential?
            </div>
            <div class="faq-answer">
                Yes, all questions are kept strictly confidential and are only viewed by our expert advisory team.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <i class="fas fa-graduation-cap"></i>
                What type of questions can I ask?
            </div>
            <div class="faq-answer">
                Any career-related questions are welcome: job search strategies, interview preparation, salary negotiations, and more.
            </div>
        </div>

        <div class="faq-item">
            <div class="faq-question">
                <i class="fas fa-redo"></i>
                Can I ask follow-up questions?
            </div>
            <div class="faq-answer">
                Absolutely! Feel free to submit follow-up questions or ask for clarification on any advice received.
            </div>
        </div>
    </div>
</div>

<!-- Tips Section -->
<div class="tips-section slide-up">
    <h3 class="tips-title">
        <i class="fas fa-lightbulb"></i>
        Tips for Getting Better Answers
    </h3>
    
    <div class="tips-grid">
        <div class="tip-item">
            <div class="tip-icon">
                <i class="fas fa-info"></i>
            </div>
            <div class="tip-text">
                Be specific about your situation, industry, and career level for more targeted advice.
            </div>
        </div>

        <div class="tip-item">
            <div class="tip-icon">
                <i class="fas fa-list"></i>
            </div>
            <div class="tip-text">
                Include relevant details like your experience level, skills, and career goals.
            </div>
        </div>

        <div class="tip-item">
            <div class="tip-icon">
                <i class="fas fa-bullseye"></i>
            </div>
            <div class="tip-text">
                Ask one focused question per submission rather than multiple unrelated questions.
            </div>
        </div>

        <div class="tip-item">
            <div class="tip-icon">
                <i class="fas fa-check"></i>
            </div>
            <div class="tip-text">
                Provide context about what you've already tried or researched to avoid duplicate advice.
            </div>
        </div>

        <div class="tip-item">
            <div class="tip-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="tip-text">
                Mention any time constraints or deadlines that might affect the urgency of your question.
            </div>
        </div>

        <div class="tip-item">
            <div class="tip-icon">
                <i class="fas fa-star"></i>
            </div>
            <div class="tip-text">
                Feel free to share your career aspirations to get advice aligned with your long-term goals.
            </div>
        </div>
    </div>
</div>

<!-- Contact Info Section -->
<div class="contact-section slide-up">
    <div class="contact-card">
        <div class="contact-header">
            <i class="fas fa-envelope"></i>
            <h3>Need More Help?</h3>
        </div>
        <p class="contact-text">
            If you have multiple questions or need personalized career counseling, 
            consider scheduling a one-on-one consultation with our career experts.
        </p>
        <div class="contact-actions">
            <a href="#" class="contact-btn primary">
                <i class="fas fa-calendar-alt"></i>
                Schedule Consultation
            </a>
            <a href="{% url 'jsapp:response' %}" class="contact-btn secondary">
                <i class="fas fa-phone"></i>
                Contact Support
            </a>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Character counter functionality
    const textarea = document.getElementById('newstitle');
    const charCounter = document.getElementById('charCounter');
    const maxLength = 1000;

    function updateCharCounter() {
        const currentLength = textarea.value.length;
        charCounter.textContent = `${currentLength} / ${maxLength} characters`;
        
        // Update counter color based on character count
        charCounter.className = 'character-counter';
        if (currentLength > maxLength * 0.9) {
            charCounter.classList.add('danger');
        } else if (currentLength > maxLength * 0.8) {
            charCounter.classList.add('warning');
        }
    }

    textarea.addEventListener('input', updateCharCounter);
    
    // Category selection functionality
    const categoryOptions = document.querySelectorAll('.category-option');
    categoryOptions.forEach(option => {
        option.addEventListener('click', function() {
            categoryOptions.forEach(opt => opt.classList.remove('selected'));
            this.classList.add('selected');
        });
    });

    // Priority selection functionality
    const priorityOptions = document.querySelectorAll('.priority-option');
    priorityOptions.forEach(option => {
        option.addEventListener('click', function() {
            priorityOptions.forEach(opt => opt.classList.remove('selected'));
            this.classList.add('selected');
        });
    });

    // Set initial selected states
    document.querySelector('#category-general').parentElement.classList.add('selected');
    document.querySelector('#priority-medium').parentElement.classList.add('selected');

    // Form submission with loading state
    const form = document.getElementById('questionForm');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', function(e) {
        if (validateForm()) {
            submitBtn.classList.add('loading');
            submitBtn.innerHTML = '<i class="fas fa-spinner"></i> Submitting...';
            submitBtn.disabled = true;
        }
    });

    // FAQ item interactions
    const faqItems = document.querySelectorAll('.faq-item');
    faqItems.forEach(item => {
        item.addEventListener('click', function() {
            // Add a subtle pulse effect
            this.style.transform = 'scale(1.02)';
            setTimeout(() => {
                this.style.transform = '';
            }, 150);
        });
    });

    // Animate elements on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('fade-in');
            }
        });
    }, observerOptions);

    // Observe all animatable elements
    document.querySelectorAll('.slide-up, .tip-item, .faq-item').forEach(el => {
        observer.observe(el);
    });

    // Auto-resize textarea
    textarea.addEventListener('input', function() {
        this.style.height = 'auto';
        this.style.height = Math.max(140, this.scrollHeight) + 'px';
    });

    // Form validation enhancement
    function validateForm() {
        const question = textarea.value.trim();
        const category = document.querySelector('input[name="category"]:checked');
        const priority = document.querySelector('input[name="priority"]:checked');
        
        let isValid = true;
        const errors = [];

        if (question.length < 10) {
            errors.push('Please provide a more detailed question (at least 10 characters).');
            isValid = false;
        }

        if (question.length > maxLength) {
            errors.push('Question is too long. Please keep it under 1000 characters.');
            isValid = false;
        }

        if (!category) {
            errors.push('Please select a question category.');
            isValid = false;
        }

        if (!priority) {
            errors.push('Please select a priority level.');
            isValid = false;
        }

        // Display errors if any
        if (!isValid) {
            showFormErrors(errors);
            submitBtn.classList.remove('loading');
            submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Question';
            submitBtn.disabled = false;
        }

        return isValid;
    }

    function showFormErrors(errors) {
        // Remove existing error messages
        const existingErrors = document.querySelectorAll('.form-error');
        existingErrors.forEach(error => error.remove());

        // Create error message element
        const errorDiv = document.createElement('div');
        errorDiv.className = 'form-error';

        const errorList = document.createElement('ul');
        errorList.style.cssText = 'margin: 0; padding-left: 1.25rem;';
        
        errors.forEach(error => {
            const li = document.createElement('li');
            li.textContent = error;
            li.style.marginBottom = '0.25rem';
            errorList.appendChild(li);
        });

        errorDiv.appendChild(errorList);
        
        // Insert error message at the top of the form
        const formContent = document.querySelector('.form-content');
        formContent.insertBefore(errorDiv, formContent.firstChild);
        
        // Scroll to error message
        errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // Add some interactive feedback
    const interactiveElements = document.querySelectorAll('.hero-feature, .tip-item, .faq-item');
    interactiveElements.forEach(element => {
        element.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
        });
        
        element.addEventListener('mouseleave', function() {
            this.style.transform = '';
        });
    });

    // Initialize character counter on page load
    updateCharCounter();

    // Smooth scroll enhancement for contact buttons
    document.querySelectorAll('.contact-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            if (this.getAttribute('href') === '#') {
                e.preventDefault();
                // You can add modal or redirect logic here
                console.log('Contact button clicked');
            }
        });
    });

    // Add keyboard support for custom radio buttons
    document.addEventListener('keydown', function(e) {
        if (e.target.tagName === 'INPUT' && e.target.type === 'radio') {
            const parent = e.target.closest('.category-option, .priority-option');
            if (parent && (e.key === 'Enter' || e.key === ' ')) {
                e.preventDefault();
                parent.click();
            }
        }
    });

    // Focus management for accessibility
    categoryOptions.forEach(option => {
        const input = option.querySelector('input');
        option.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                input.checked = true;
                this.click();
            }
        });
    });

    priorityOptions.forEach(option => {
        const input = option.querySelector('input');
        option.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                input.checked = true;
                this.click();
            }
        });
    });

    // Success message auto-hide (if present)
    const successMessage = document.querySelector('.success-message');
    if (successMessage) {
        setTimeout(() => {
            successMessage.style.opacity = '0';
            successMessage.style.transform = 'translateY(-20px)';
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 300);
        }, 5000); // Hide after 5 seconds
    }

    console.log('âœ¨ Enhanced Ask Questions page ready!');
});
</script>

{% endblock body %}

{% block extra_scripts %}
<script>
// Additional scripts specific to this page
document.addEventListener('DOMContentLoaded', function() {
    // Add any page-specific initialization here
    
    // Example: Track form engagement
    const form = document.getElementById('questionForm');
    let formInteractionStarted = false;
    
    form.addEventListener('focusin', function() {
        if (!formInteractionStarted) {
            formInteractionStarted = true;
            console.log('User started interacting with the form');
            // You can add analytics tracking here
        }
    });
    
    // Example: Auto-save draft functionality (optional)
    const textarea = document.getElementById('newstitle');
    let autoSaveTimeout;
    
    textarea.addEventListener('input', function() {
        clearTimeout(autoSaveTimeout);
        autoSaveTimeout = setTimeout(() => {
            // Auto-save draft to localStorage (if needed)
            if (this.value.trim().length > 10) {
                localStorage.setItem('questionDraft', this.value);
                console.log('Draft saved automatically');
            }
        }, 2000);
    });
    
    // Load draft on page load
    const savedDraft = localStorage.getItem('questionDraft');
    if (savedDraft && !textarea.value) {
        textarea.value = savedDraft;
        textarea.dispatchEvent(new Event('input')); // Trigger character counter update
    }
    
    // Clear draft on successful submission
    form.addEventListener('submit', function() {
        localStorage.removeItem('questionDraft');
    });
});
</script>
{% endblock %}