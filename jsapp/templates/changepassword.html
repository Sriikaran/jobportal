{% extends "jsparent.html" %}
{% block body %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 90vh;">
    <div class="card shadow-lg rounded-4 p-4" style="width: 450px; background: #f9f9f9;">
        <h2 class="text-center mb-4 fw-bold" style="color: #093f75;">Change Password</h2>


        {% if messages %}
            {% for message in messages %}
            <div class="alert alert-warning text-center py-2">{{ message }}</div>
            {% endfor %}
        {% endif %}

        {% if msg %}
            <div class="alert alert-danger text-center fw-bold py-2">{{ msg }}</div>
        {% endif %}

        <form method="post">
            {% csrf_token %}
            
            <div class="mb-3">
                <label class="form-label fw-semibold">Old Password</label>
                <input type="password" name="oldpassword" 
                       class="form-control border-0 shadow-sm bg-light"
                       placeholder="Current password" required>
            </div>

            <div class="mb-3">
                <label class="form-label fw-semibold">New Password</label>
                <input type="password" name="newpassword" 
                       class="form-control border-0 shadow-sm bg-light"
                       placeholder="New password" 
                       minlength="6" 
                       pattern="(?=.*[A-Za-z])(?=.*[\d@#$%^+\-*])[A-Za-z\d@#$%^+\-*]{6,}" 
                       title="Password must be at least 6 characters and include both letters and numbers." required>
            </div>

            <div class="mb-3">
                <label class="form-label fw-semibold">Confirm Password</label>
                <input type="password" name="cnfpassword" 
                       class="form-control border-0 shadow-sm bg-light"
                       placeholder="Re-enter new password" 
                       minlength="6" 
                       pattern="(?=.*[A-Za-z])(?=.*[\d@#$%^+\-*])[A-Za-z\d@#$%^+\-*]{6,}" 
                       title="Password must be at least 6 characters and include both letters and numbers." required>
            </div>

            <div class="text-center">
                <button type="submit" 
                        class="btn fw-semibold px-4 py-2 rounded-pill" 
                        style="background-color: #093f75; color: white; transition: all 0.3s;">
                    Change
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock body %}
